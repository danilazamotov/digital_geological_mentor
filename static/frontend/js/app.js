(function(){"use strict";var e={2260:function(e,t,n){var o=n(5130),r=n(6768);const a={id:"app"};function s(e,t,n,o,s,i){const l=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.bF)(l)])}var i={name:"App",created(){console.log("Компонент App создан")}},l=n(1241);const u=(0,l.A)(i,[["render",s]]);var p=u,c=n(973),d=n(4232);const m={class:"login-page"};function f(e,t,n,a,s,i){return(0,r.uX)(),(0,r.CE)("div",m,[t[4]||(t[4]=(0,r.Lk)("h1",null,"Вход",-1)),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>i.login&&i.login(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),type:"text",placeholder:"Логин",required:""},null,512),[[o.Jo,s.username]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),type:"password",placeholder:"Пароль",required:""},null,512),[[o.Jo,s.password]]),t[3]||(t[3]=(0,r.Lk)("button",{type:"submit"},"Войти",-1))],32),(0,r.Lk)("p",null,(0,d.v_)(s.message),1)])}var h={name:"UserLogin",data(){return{username:"",password:"",message:""}},methods:{async login(){try{const e=await fetch("http://localhost:8000/auth/api/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})}),t=await e.json();e.ok?(localStorage.setItem("access_token",t.access),localStorage.setItem("refresh_token",t.refresh),this.message="Вход успешен!"):this.message="Ошибка входа"}catch(e){console.error("Ошибка:",e)}}},created(){console.log("Component UserLogin created")}};const g=(0,l.A)(h,[["render",f]]);var v=g;function w(e,t,n,a,s,i){return(0,r.uX)(),(0,r.CE)("div",null,[t[8]||(t[8]=(0,r.Lk)("h1",null,"Регистрация",-1)),(0,r.Lk)("form",{onSubmit:t[6]||(t[6]=(0,o.D$)(((...e)=>i.register&&i.register(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),type:"text",placeholder:"Логин",required:""},null,512),[[o.Jo,s.username]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.email=e),type:"email",placeholder:"Email",required:""},null,512),[[o.Jo,s.email]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.firstName=e),type:"text",placeholder:"Имя",required:""},null,512),[[o.Jo,s.firstName]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.lastName=e),type:"text",placeholder:"Фамилия",required:""},null,512),[[o.Jo,s.lastName]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.password=e),type:"password",placeholder:"Пароль",required:""},null,512),[[o.Jo,s.password]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>s.password2=e),type:"password",placeholder:"Повторите пароль",required:""},null,512),[[o.Jo,s.password2]]),t[7]||(t[7]=(0,r.Lk)("button",{type:"submit"},"Зарегистрироваться",-1))],32),(0,r.Lk)("p",null,(0,d.v_)(s.message),1)])}var b={data(){return{username:"",email:"",firstName:"",lastName:"",password:"",password2:"",message:""}},methods:{async register(){try{const e=await fetch("http://localhost:8000/auth/api/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,email:this.email,first_name:this.firstName,last_name:this.lastName,password:this.password,password2:this.password2})}),t=await e.json();e.ok?this.message="Пользователь успешно зарегистрирован!":this.message=t}catch(e){console.error("Ошибка:",e)}}}};const y=(0,l.A)(b,[["render",w]]);var k=y;const L=[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:v},{path:"/register",name:"Register",component:k}],O=(0,c.aE)({history:(0,c.LA)(),routes:L});var j=O;(0,o.Ef)(p).use(j).mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,a){if(!o){var s=1/0;for(p=0;p<e.length;p++){o=e[p][0],r=e[p][1],a=e[p][2];for(var i=!0,l=0;l<o.length;l++)(!1&a||s>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(i=!1,a<s&&(s=a));if(i){e.splice(p--,1);var u=r();void 0!==u&&(t=u)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[o,r,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,a,s=o[0],i=o[1],l=o[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(l)var p=l(n)}for(t&&t(o);u<s.length;u++)a=s[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(p)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(2260)}));o=n.O(o)})();
//# sourceMappingURL=app.js.map